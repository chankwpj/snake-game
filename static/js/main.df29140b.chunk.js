(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{12:function(e,t,n){},23:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var o,r=n(1),i=n(0),a=n.n(i),s=n(4),c=n.n(s),p=(n(23),n(16)),u=n(2),d=n(3),h=n(6),y=n(5),f=n(7),l=n(10),b=n(8),v=(n(12),15),m=[[0,8],[0,7],[0,6],[0,5],[0,4],[0,3],[0,2],[0,1],[0,0]],g=function(e){Object(h.a)(n,e);var t=Object(y.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.snake,o=t.food;return Object(r.jsx)("div",{className:"snake-game__map-wrapper",children:Array.apply(0,Array(v)).map((function(t,i){return Array.apply(0,Array(v)).map((function(t,a){return Object(r.jsx)("div",{className:e.updateBoard(n,o,i,a)},e.toKey(i,a))}))}))})}},{key:"updateBoard",value:function(e,t,n,o){return e.body.find((function(e){return e[0]===n&&e[1]===o}))?"snake-game__draw-snake-body snake-game__map-block-item":n===t[0]&&o===t[1]?"snake-game__draw-snake-food snake-game__map-block-item":"snake-game__map-block-item"}},{key:"toKey",value:function(e,t){return e+""+t}}]),n}(a.a.Component);!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(o||(o={}));var O,j,k,w,D,x,P=function(){function e(){Object(u.a)(this,e),this.x=0,this.y=8,this.bodyLength=m.length,this.body=m,this.direction=o.Right,this.speed=100}return Object(d.a)(e,[{key:"move",value:function(){this.direction===o.Up?this.x-=1:this.direction===o.Down?this.x+=1:this.direction===o.Left?this.y-=1:this.direction===o.Right&&(this.y+=1),this.x<0&&(this.x=14),this.y<0&&(this.y=14),this.x>=v&&(this.x=0),this.y>=v&&(this.y=0),this.body.unshift([this.x,this.y]),this.body.length>this.bodyLength&&this.body.pop()}},{key:"changeDirection",value:function(e){e===o.Down&&this.direction===o.Up||e===o.Up&&this.direction===o.Down||e===o.Right&&this.direction===o.Left||e===o.Left&&this.direction===o.Right||(this.direction=e)}},{key:"isCrashed",value:function(){var e=new Set;return this.body.map((function(t){return e.add(t[0]+""+t[1]),e})),e.size!==this.body.length}}]),e}(),U="MOVE_SNAKE",R="CHANGE_SNAKE_DIRECTION",I="PAUSE_GAME",_="CONTINUE_GAME",C=function(e){Object(h.a)(n,e);var t=Object(y.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.score;return Object(r.jsxs)("div",{children:["Score: ",e]})}}]),n}(a.a.Component),L=(O=Object(b.a)("down"),j=Object(b.a)("up"),k=Object(b.a)("left"),w=Object(b.a)("right"),D=Object(b.a)("esc"),x=function(e){Object(h.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).gameInterval=setInterval((function(){}),300),e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props;t.isPaused||(this.gameInterval=setInterval((function(){e.props.move()}),t.snake.speed))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props;!t.isPaused||t.isSpeedUpdated?(clearInterval(this.gameInterval),this.gameInterval=setInterval((function(){e.props.move()}),t.snake.speed)):clearInterval(this.gameInterval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.gameInterval)}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(C,Object(p.a)({},this.props)),Object(r.jsx)(g,Object(p.a)({},this.props))]})}},{key:"arrowDown",value:function(){this.props.changeDirection(o.Down)}},{key:"arrowUp",value:function(){this.props.changeDirection(o.Up)}},{key:"arrowLeft",value:function(){this.props.changeDirection(o.Left)}},{key:"arrowRight",value:function(){this.props.changeDirection(o.Right)}},{key:"esc",value:function(){var e=this.props;e.isPaused?e.continueCommand():e.pauseCommand()}}]),n}(a.a.Component),Object(f.a)(x.prototype,"arrowDown",[O],Object.getOwnPropertyDescriptor(x.prototype,"arrowDown"),x.prototype),Object(f.a)(x.prototype,"arrowUp",[j],Object.getOwnPropertyDescriptor(x.prototype,"arrowUp"),x.prototype),Object(f.a)(x.prototype,"arrowLeft",[k],Object.getOwnPropertyDescriptor(x.prototype,"arrowLeft"),x.prototype),Object(f.a)(x.prototype,"arrowRight",[w],Object.getOwnPropertyDescriptor(x.prototype,"arrowRight"),x.prototype),Object(f.a)(x.prototype,"esc",[D],Object.getOwnPropertyDescriptor(x.prototype,"esc"),x.prototype),x),S=Object(l.b)((function(e){return{snake:e.actionReducer.snake,score:e.actionReducer.score,food:e.actionReducer.food,isSpeedUpdated:e.actionReducer.isSpeedUpdated,isPaused:e.actionReducer.isPaused,isGameOver:e.actionReducer.isGameOver}}),(function(e){return{move:function(){return e({type:U})},changeDirection:function(t){return e(function(e){return{type:R,direction:e}}(t))},pauseCommand:function(){return e({type:I})},continueCommand:function(){return e({type:_})}}}))(L),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),i(e),a(e)}))},G=n(9),E={snake:new P,score:0,food:M(),isSpeedUpdated:!1,isPaused:!1,isGameOver:!1};function M(){return[Math.floor(Math.random()*v),Math.floor(Math.random()*v)]}var N=Object(G.b)({actionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;if(e.isGameOver)return e;var n={snake:Object.create(e.snake),score:e.score,food:e.food,isSpeedUpdated:!1,isPaused:e.isPaused,isGameOver:e.isGameOver},o=n.snake;switch(o.x=e.snake.x,o.y=e.snake.y,o.speed=e.snake.speed,o.direction=e.snake.direction,o.bodyLength=e.snake.bodyLength,o.body=e.snake.body,t.type){case U:return o.move(),o.x===e.food[0]&&o.y===e.food[1]?(o.bodyLength+=1,o.speed*=.85,n.isSpeedUpdated=!0,n.food=M(),n.score+=10):o.isCrashed()&&(console.log("Game is over."),n.isGameOver=!0),n;case R:return o.changeDirection(t.direction),n;case I:return console.log("Pause the game"),n.isPaused=!0,n;case _:return console.log("Continue the game"),n.isPaused=!1,n;default:return e}}}),B=Object(G.c)(N);c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(l.a,{store:B,children:Object(r.jsx)(S,{})})}),document.getElementById("root")),A()}},[[31,1,2]]]);
//# sourceMappingURL=main.df29140b.chunk.js.map