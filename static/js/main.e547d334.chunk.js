(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{13:function(e,t,n){},24:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r,o=n(1),a=n(0),i=n.n(a),s=n(4),c=n.n(s),p=(n(24),n(11)),u=n(2),d=n(3),h=n(6),l=n(5),y=n(7),b=n(10),f=n(8),j=(n(13),15),m=[[0,8],[0,7],[0,6],[0,5],[0,4],[0,3],[0,2],[0,1],[0,0]],v=Array.apply(null,Array(j)).map((function(e,t){return Array.apply(null,Array(j))})),O=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.snake,r=t.food,a=new Set;return n.body.map((function(t){a.add(e.toKey(t[0],t[1]))})),Object(o.jsx)("div",{className:"snake-game__map-wrapper",children:v.map((function(t,n){return t.map((function(t,i){return Object(o.jsx)("div",{className:e.updateBoard(a,r,n,i)},e.toKey(n,i))}))}))})}},{key:"updateBoard",value:function(e,t,n,r){return e.has(this.toKey(n,r))?"snake-game__draw-snake-body snake-game__map-block-item":n===t[0]&&r===t[1]?"snake-game__draw-snake-food snake-game__map-block-item":"snake-game__map-block-item"}},{key:"toKey",value:function(e,t){return e+"-"+t}}]),n}(i.a.Component);!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(r||(r={}));var g,k,w,x,D,C,R=function(){function e(){Object(u.a)(this,e),this.x=0,this.y=8,this.bodyLength=m.length,this.body=m,this.direction=r.Right,this.speed=100}return Object(d.a)(e,[{key:"move",value:function(){this.direction===r.Up?this.x-=1:this.direction===r.Down?this.x+=1:this.direction===r.Left?this.y-=1:this.direction===r.Right&&(this.y+=1),this.x<0&&(this.x=14),this.y<0&&(this.y=14),this.x>=j&&(this.x=0),this.y>=j&&(this.y=0),this.body.unshift([this.x,this.y]),this.body.length>this.bodyLength&&this.body.pop()}},{key:"changeDirection",value:function(e){e===r.Down&&this.direction===r.Up||e===r.Up&&this.direction===r.Down||e===r.Right&&this.direction===r.Left||e===r.Left&&this.direction===r.Right||(this.direction=e)}},{key:"isCrashed",value:function(){var e=new Set;return this.body.map((function(t){return e.add(t[0]+""+t[1]),e})),e.size!==this.body.length}}]),e}(),I="MOVE_SNAKE",P="CHANGE_SNAKE_DIRECTION",U="PAUSE_GAME",_="CONTINUE_GAME",S="RESET_GAME",L=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.score;return Object(o.jsxs)("div",{children:["Score: ",e]})}}]),n}(i.a.Component),A=n(18),E=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.score,n=e.resetCommand;return Object(o.jsx)(A.a,{defaultOpen:!0,modal:!0,onClose:function(){n()},children:function(e){return Object(o.jsxs)("div",{className:"modal",children:[Object(o.jsx)("div",{className:"header",children:"------------ Game Over ------------"}),Object(o.jsxs)("div",{className:"content",children:["Your Score is ",t,"!",Object(o.jsx)("br",{})]}),Object(o.jsx)("div",{className:"actions",children:Object(o.jsx)("button",{className:"button",onClick:function(){e()},children:"Try Again"})})]})}})}}]),n}(i.a.Component),G=(g=Object(f.a)("down"),k=Object(f.a)("up"),w=Object(f.a)("left"),x=Object(f.a)("right"),D=Object(f.a)("esc"),C=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).gameInterval=setInterval((function(){}),300),e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props;t.isPaused||(this.gameInterval=setInterval((function(){e.props.move()}),t.snake.speed))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props;t.isGameOver?clearInterval(this.gameInterval):!t.isPaused||t.isSpeedUpdated?(clearInterval(this.gameInterval),this.gameInterval=setInterval((function(){e.props.move()}),t.snake.speed)):clearInterval(this.gameInterval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.gameInterval)}},{key:"render",value:function(){return this.props.isGameOver?Object(o.jsx)(E,Object(p.a)({},this.props)):Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(L,Object(p.a)({},this.props)),Object(o.jsx)(O,Object(p.a)({},this.props)),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Moving: Arrow Keys"}),Object(o.jsx)("p",{children:"Stop/Resume: Esc"})]})]})}},{key:"arrowDown",value:function(){this.props.changeDirection(r.Down)}},{key:"arrowUp",value:function(){this.props.changeDirection(r.Up)}},{key:"arrowLeft",value:function(){this.props.changeDirection(r.Left)}},{key:"arrowRight",value:function(){this.props.changeDirection(r.Right)}},{key:"esc",value:function(){var e=this.props;e.isPaused?e.continueCommand():e.pauseCommand()}}]),n}(i.a.Component),Object(y.a)(C.prototype,"arrowDown",[g],Object.getOwnPropertyDescriptor(C.prototype,"arrowDown"),C.prototype),Object(y.a)(C.prototype,"arrowUp",[k],Object.getOwnPropertyDescriptor(C.prototype,"arrowUp"),C.prototype),Object(y.a)(C.prototype,"arrowLeft",[w],Object.getOwnPropertyDescriptor(C.prototype,"arrowLeft"),C.prototype),Object(y.a)(C.prototype,"arrowRight",[x],Object.getOwnPropertyDescriptor(C.prototype,"arrowRight"),C.prototype),Object(y.a)(C.prototype,"esc",[D],Object.getOwnPropertyDescriptor(C.prototype,"esc"),C.prototype),C),N=Object(b.b)((function(e){return{snake:e.actionReducer.snake,score:e.actionReducer.score,food:e.actionReducer.food,isSpeedUpdated:e.actionReducer.isSpeedUpdated,isPaused:e.actionReducer.isPaused,isGameOver:e.actionReducer.isGameOver}}),(function(e){return{move:function(){return e({type:I})},changeDirection:function(t){return e(function(e){return{type:P,direction:e}}(t))},pauseCommand:function(){return e({type:U})},continueCommand:function(){return e({type:_})},resetCommand:function(){return e({type:S})}}}))(G),M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),a(e),i(e)}))},K=n(9),T={snake:new R,score:0,food:B(),isSpeedUpdated:!1,isPaused:!1,isGameOver:!1};function B(){return[Math.floor(Math.random()*j),Math.floor(Math.random()*j)]}function F(e){var t={snake:new R,score:e.score,food:e.food,isSpeedUpdated:!1,isPaused:e.isPaused,isGameOver:e.isGameOver},n=t.snake;return n.x=e.snake.x,n.y=e.snake.y,n.speed=e.snake.speed,n.direction=e.snake.direction,n.bodyLength=e.snake.bodyLength,n.body=e.snake.body.slice(),t}var J=Object(K.b)({actionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;if(t.type===S)return T;var n=F(e),r=n.snake;switch(t.type){case I:return r.move(),r.x===e.food[0]&&r.y===e.food[1]?(r.bodyLength+=1,r.speed*=.85,n.isSpeedUpdated=!0,n.food=B(),n.score+=10):r.isCrashed()&&(console.log("Game is over."),n.isGameOver=!0),n;case P:return r.changeDirection(t.direction),n;case U:return console.log("Pause the game"),n.isPaused=!0,n;case _:return console.log("Continue the game"),n.isPaused=!1,n;default:return e}}}),z=Object(K.c)(J);c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(b.a,{store:z,children:Object(o.jsx)(N,{})})}),document.getElementById("root")),M()}},[[32,1,2]]]);
//# sourceMappingURL=main.e547d334.chunk.js.map